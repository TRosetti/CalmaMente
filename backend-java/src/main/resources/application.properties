# ==========================================
# CONFIGURAÇÕES DO SERVIDOR
# ==========================================
server.port=8081

# ==========================================
# CONEXÃO COM O BANCO DE DADOS (SUPABASE)
# ==========================================
spring.datasource.url=jdbc:postgresql://aws-1-us-east-2.pooler.supabase.com:5432/postgres?sslmode=require
spring.datasource.username=postgres.jsgxzgxxiquwllivbnyp
spring.datasource.password=SenhaCalmaMente

# ==========================================
# POOL DE CONEXÕES (CRÍTICO PARA SUPABASE)
# ==========================================
# Mantemos baixo (2) para não estourar o limite do plano gratuito/transaction pooler
spring.datasource.hikari.maximum-pool-size=2
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.max-lifetime=600000

# ==========================================
# JPA / HIBERNATE
# ==========================================
# validate: Apenas verifica se as tabelas existem. Mude para 'update' se precisar criar tabelas novas.
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# ==========================================
# INTEGRAÇÃO API SUPABASE (AUTH) - NOVO
# ==========================================
# URL base do seu projeto (sem /auth/v1, pois o client adiciona)
supabase.url=https://jsgxzgxxiquwllivbnyp.supabase.co

# ATENÇÃO: Cole aqui a chave 'service_role' (secret) que você pegou no painel do Supabase.
# NÃO use a 'anon' key aqui, senão o backend não conseguirá criar usuários.
supabase.key.service-role=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzZ3h6Z3h4aXF1d2xsaXZibnlwIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjgzNDY3NSwiZXhwIjoyMDc4NDEwNjc1fQ.LwY2F6fHpUBYEbYsrOZbQW0PrVNFqVvUkV3fGcpNBRQ

# ==========================================
# LOGS E DEPURAÇÃO
# ==========================================
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping=TRACE